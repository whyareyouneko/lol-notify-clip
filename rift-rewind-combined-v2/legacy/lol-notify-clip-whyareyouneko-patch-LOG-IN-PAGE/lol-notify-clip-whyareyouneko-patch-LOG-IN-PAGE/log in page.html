<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gaming Coach ‚Äî Dashboard</title>
  <style>
    :root{
      --bg-1:#070b1a;
      --bg-2:#0e1835;
      --panel:#0c1329cc;
      --ink:#e7e4d8;
      --ink-dim:#a7a39a;
      --gold:#c8aa6e;
      --gold-2:#9c7b41;
      --blue:#6bb1ff;
      --violet:#a06bff;
      --green:#57d99d;
      --red:#ff6b6b;
      --outline: rgba(255,255,255,.08);
    }
    *,*::before,*::after{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; color:var(--ink); font:15px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
      background:
        radial-gradient(1200px 600px at 75% 0%, rgba(28,56,124,.45), transparent 60%),
        radial-gradient(1000px 500px at 15% 100%, rgba(22,115,189,.35), transparent 60%),
        linear-gradient(180deg, var(--bg-2), var(--bg-1));
    }
    .container{ max-width:1200px; margin:0 auto; padding:18px 18px 48px }

    /* Top Bar */
    .topbar{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:10px 14px; border:1px solid var(--gold-2); border-radius:16px; background:linear-gradient(180deg, rgba(18,24,46,.92), rgba(9,14,31,.92)); box-shadow:0 20px 60px rgba(0,0,0,.4), inset 0 0 0 1px rgba(255,255,255,.04); position:sticky; top:12px; z-index:5 }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:800 }
    .brand .sigil{ display:grid; place-items:center; width:32px; height:32px; border-radius:9px; background:linear-gradient(135deg, rgba(60,75,140,.9), rgba(120,82,200,.9)); box-shadow:0 6px 16px rgba(102,119,222,.35), inset 0 0 0 1px rgba(255,255,255,.2) }
    .brand .sigil svg{ width:18px; height:18px }
    .tabs{ display:flex; gap:6px; background:rgba(255,255,255,.04); border:1px solid var(--outline); padding:4px; border-radius:12px }
    .tab{ padding:8px 12px; border-radius:9px; color:var(--ink-dim); font-weight:700; cursor:pointer; user-select:none }
    .tab[aria-selected="true"]{ color:var(--ink); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.08) }

    /* Profile */
    .profile{ position:relative; display:flex; align-items:center; gap:10px }
    .avatar{ width:34px; height:34px; border-radius:50%; object-fit:cover; border:1px solid var(--gold-2); background:#1b2343 }
    .name{ font-weight:800 }
    .badge{ font-size:12px; padding:2px 6px; border-radius:6px; background:rgba(111,207,151,.16); border:1px solid rgba(87,217,157,.35); color:var(--green) }
    .login-btn{ appearance:none; border:none; border-radius:10px; padding:8px 12px; font-weight:700; color:white; cursor:pointer; background:linear-gradient(90deg, var(--blue), var(--violet)); box-shadow:0 8px 24px rgba(104,130,255,.35), inset 0 0 0 1px rgba(255,255,255,.15) }

    .menu{ position:absolute; right:0; top:44px; width:220px; background:var(--panel); border:1px solid var(--outline); border-radius:12px; padding:8px; box-shadow:0 16px 40px rgba(0,0,0,.45); backdrop-filter: blur(6px) }
    .menu.hidden{ display:none }
    .menu button, .menu a{ width:100%; text-align:left; display:block; background:transparent; border:none; padding:10px 10px; color:var(--ink); border-radius:8px; cursor:pointer }
    .menu button:hover, .menu a:hover{ background:rgba(255,255,255,.05) }


    .grid{ display:grid; grid-template-columns: 1.2fr 1fr 1fr; gap:22px; margin-top:22px }

    .panel{ background:var(--panel); border:1px solid var(--outline); border-radius:16px; padding:18px; box-shadow:0 18px 60px rgba(0,0,0,.35); backdrop-filter: blur(6px) }
    .panel h2{ margin:0 0 12px; font-size:16px; font-weight:800 }
    .badge-small{ display:inline-block; margin-left:8px; padding:2px 6px; border-radius:8px; font-size:12px; background:rgba(160,107,255,.16); border:1px solid rgba(160,107,255,.35); color:var(--violet) }

    
    .coaching-list{ display:grid; gap:12px }
    .card{ border-radius:12px; padding:14px; border:1px solid rgba(255,255,255,.08); background:linear-gradient(135deg, rgba(200,170,110,.18), rgba(160,107,255,.12)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.04) }
    .card.warn{ background:linear-gradient(135deg, rgba(255,107,107,.2), rgba(160,107,255,.12)); }
    .card.purple{ background:linear-gradient(135deg, rgba(160,107,255,.2), rgba(107,177,255,.12)); }
    .meta{ color:var(--ink-dim); font-size:12px; margin-top:6px }

    .muted{ margin-top:10px; padding:10px 12px; border-radius:10px; border:1px dashed rgba(255,255,255,.12); color:var(--ink-dim); text-align:center }

    
    .field{ position:relative; margin-bottom:12px }
    .label{ font-size:12px; color:var(--ink-dim); margin-bottom:6px }
    .input{ width:100%; background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.12); border-radius:10px; padding:10px 12px; color:var(--ink) }
    .slider{ width:100% }
    .clip-box{ display:grid; place-items:center; height:180px; border-radius:12px; border:1px dashed rgba(255,255,255,.15); color:var(--ink-dim) }
    .record{ display:flex; justify-content:flex-end }
    .record .btn{ appearance:none; border:none; border-radius:10px; padding:10px 14px; font-weight:800; color:#fff; cursor:pointer; background:linear-gradient(90deg, var(--blue), var(--violet)); box-shadow:0 8px 24px rgba(104,130,255,.35) }

    
    .notif{ display:flex; align-items:center; gap:10px; padding:10px 10px; border-radius:10px }
    .notif:hover{ background:rgba(255,255,255,.04) }
    .ic{ width:18px; height:18px; display:inline-block; border-radius:6px; background:rgba(255,255,255,.12) }
    .ic.gold{ background: radial-gradient(circle at 35% 35%, #e9d6a0, #a67c2d) }
    .ic.pink{ background: radial-gradient(circle at 35% 35%, #ffb3d1, #c2185b) }
    .ic.purple{ background: radial-gradient(circle at 35% 35%, #c7b9ff, #673ab7) }
    .ic.green{ background: radial-gradient(circle at 35% 35%, #b6f7d2, #1b9e5a) }
    .ic.red{ background: radial-gradient(circle at 35% 35%, #ffb1b1, #e53935) }
    .time{ margin-left:auto; color:var(--ink-dim); font-size:12px }

    .footer-count{ margin-top:10px; text-align:center; color:var(--ink-dim); font-size:12px }

    @media (max-width: 1040px){ .grid{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
  <div class="container">
    <header class="topbar">
      <div class="brand">
        <div class="sigil" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 3v5c0 5.25-3.25 9.94-7 11-3.75-1.06-7-5.75-7-11V5l7-3z" stroke="#F9FAFB" stroke-width="1.5"/><path d="M9.5 11.25l2 2 3.5-3.5" stroke="#F9FAFB" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div>
          <div style="font-weight:800">LoL Notify Clip</div>
          <div style="font-size:12px; color:var(--ink-dim)">@<span id="headerHandle">‚Äî</span></div>
        </div>
      </div>

      <nav class="tabs" role="tablist" aria-label="Main">
        <a class="tab" aria-selected="true">Dashboard</a>
        <a class="tab" aria-selected="false">Settings</a>
        <a class="tab" aria-selected="false">Highlights</a>
        <a class="tab" aria-selected="false">About</a>
      </nav>

      <div class="profile">
        <button id="loginButton" class="login-btn" style="display:none" onclick="location.href='login.html'">Sign In</button>
        <img id="profileAvatar" class="avatar" alt="avatar" src="" />
        <div>
          <div class="name" id="profileName">Guest</div>
          <div class="badge" id="statusBadge">Guest mode</div>
        </div>
        <button id="profileToggle" class="login-btn" style="padding:6px 10px">‚ãÆ</button>
        <div id="profileMenu" class="menu hidden" role="menu">
          <div style="padding:8px 10px; color:var(--ink-dim); font-size:12px">Signed in as <strong id="menuName">Guest</strong></div>
          <hr style="border:none; border-top:1px solid rgba(255,255,255,.08); margin:6px 0" />
          <a href="#" role="menuitem">Profile</a>
          <a href="#" role="menuitem">Settings</a>
          <button id="logoutBtn" role="menuitem">Logout</button>
        </div>
      </div>
    </header>

    <main class="grid">
      
      <section class="panel">
        <h2>Live Coaching <span class="badge-small">Mid</span></h2>
        <div class="coaching-list" id="coachList"></div>
        <div class="muted">Monitoring your gameplay‚Ä¶ Stay focused!</div>
      </section>

      
      <section class="panel">
        <h2>Clip Recorder</h2>
        <div class="field">
          <div class="label">Record Hotkey</div>
          <input class="input" value="F9"/>
        </div>
        <div class="field">
          <div class="label">Clip Length <span id="clipLenLabel" style="color:var(--ink)">30s</span></div>
          <input id="clipLen" class="slider" type="range" min="15" max="90" step="5" value="30"/>
        </div>
        <div class="field">
          <div class="label">Save Location</div>
          <div style="display:flex; gap:8px">
            <input id="savePath" class="input" value="C:/Users/Games/LoL Clips" style="flex:1"/>
            <button class="login-btn" style="padding:10px">üìÅ</button>
          </div>
        </div>
        <div class="label">Last Clip Saved</div>
        <div class="clip-box">No recent clip<br/><small>Press F9 to record</small></div>
        <div class="record" style="margin-top:12px">
          <button class="btn">Manual Record</button>
        </div>
      </section>

     
      <section class="panel">
        <h2>Notifications Log</h2>
        <div id="notifList"></div>
        <div class="footer-count" id="notifCount">‚Äî notifications today</div>
      </section>
    </main>
  </div>

  <script>
    function getUser(){
      try{ return JSON.parse(localStorage.getItem('user')); }catch(e){ return null }
    }
    function applyUser(u){
      const handle = document.getElementById('headerHandle');
      const avatar = document.getElementById('profileAvatar');
      const nameEl = document.getElementById('profileName');
      const badge = document.getElementById('statusBadge');
      const menuName = document.getElementById('menuName');
      const loginBtn = document.getElementById('loginButton');

      if(u){
        handle.textContent = u.username || 'summoner';
        avatar.src = u.avatar || 'https://avatar.iran.liara.run/public/1';
        nameEl.textContent = u.username || 'Summoner';
        badge.textContent = 'Online';
        badge.style.background = 'rgba(111,207,151,.16)';
        badge.style.borderColor = 'rgba(87,217,157,.35)';
        menuName.textContent = u.username || 'Summoner';
        loginBtn.style.display = 'none';
      } else {
        handle.textContent = 'guest';
        avatar.src = 'https://avatar.iran.liara.run/public/0';
        nameEl.textContent = 'Guest';
        badge.textContent = 'Guest mode';
        document.getElementById('loginButton').style.display = 'inline-block';
      }
    }

    applyUser(getUser());
    window.addEventListener('storage', (e)=>{ if(e.key==='user') applyUser(getUser()); });

    
    const toggle = document.getElementById('profileToggle');
    const menu = document.getElementById('profileMenu');
    toggle.addEventListener('click', ()=> menu.classList.toggle('hidden'));
    document.addEventListener('click', (e)=>{
      if(!menu.contains(e.target) && !toggle.contains(e.target)) menu.classList.add('hidden');
    });

    
    document.getElementById('logoutBtn').addEventListener('click', ()=>{
      localStorage.removeItem('user');
      applyUser(null);
      location.href = 'login.html';
    });

    const slider = document.getElementById('clipLen');
    const label = document.getElementById('clipLenLabel');
    slider.addEventListener('input', ()=> label.textContent = slider.value + 's');

    const coaching = [
      { text: 'Ward placed! Vision coverage increased to 45%', ago: 2, tone:'gold' },
      { text: 'Avoid overextending without vision', ago: 5, tone:'warn' },
      { text: 'Dragon spawning in 30s ‚Äî prepare objective control', ago: 8, tone:'purple' },
    ];
    const coachList = document.getElementById('coachList');
    coaching.forEach(c=>{
      const d=document.createElement('div'); d.className = 'card ' + (c.tone||'');
      d.innerHTML = `<div>${c.text}</div><div class="meta">${c.ago}m ago</div>`;
      coachList.appendChild(d);
    });

    const notifications = [
      { icon:'gold', text:'Ward placed near Dragon pit', ago:2 },
      { icon:'red', text:'Death recorded ‚Äî review positioning', ago:5 },
      { icon:'purple', text:'Dragon objective available soon', ago:8 },
      { icon:'green', text:'CS milestone: 100 minions', ago:12 },
      { icon:'pink', text:'Pink ward expired ‚Äî replace soon', ago:15 },
      { icon:'purple', text:'Baron spawning in 60 seconds', ago:18 },
      { icon:'red', text:'Death #2 ‚Äî enemy jungler ganked', ago:22 },
      { icon:'green', text:'Gold lead: +500g', ago:25 },
    ];

    const list = document.getElementById('notifList');
    notifications.forEach(n=>{
      const row = document.createElement('div'); row.className='notif';
      row.innerHTML = `<span class="ic ${n.icon}"></span><div>${n.text}</div><span class="time">${n.ago}m ago</span>`;
      list.appendChild(row);
    });
    document.getElementById('notifCount').textContent = `${notifications.length} notifications today`;


    (function(){
      const params = new URLSearchParams(location.search);
      if(params.has('user')){
        try{
          const decoded = JSON.parse(atob(params.get('user')));
          localStorage.setItem('user', JSON.stringify(decoded));
          applyUser(decoded);
          history.replaceState({}, '', location.pathname);
        }catch(e){ console.warn('bad user payload') }
      }
    })();
  </script>
</body>
</html>
