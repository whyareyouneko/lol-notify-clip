<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gaming Coach â€” Highlights</title>
  <style>
    :root{
      --bg-1:#070b1a; --bg-2:#0e1835; --panel:#0c1329cc; --ink:#e7e4d8; --ink-dim:#a7a39a;
      --gold:#c8aa6e; --gold-2:#9c7b41; --blue:#6bb1ff; --violet:#a06bff; --outline: rgba(255,255,255,.08);
      --green:#57d99d; --red:#ff6b6b;
    }
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;color:var(--ink);font:15px/1.5 ui-sans-serif,system-ui; background:
      radial-gradient(1200px 600px at 75% 0%, rgba(28,56,124,.45), transparent 60%),
      radial-gradient(1000px 500px at 15% 100%, rgba(22,115,189,.35), transparent 60%),
      linear-gradient(180deg, var(--bg-2), var(--bg-1));}
    .container{max-width:1200px;margin:0 auto;padding:18px}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 14px;border:1px solid var(--gold-2);border-radius:16px;background:linear-gradient(180deg, rgba(18,24,46,.92), rgba(9,14,31,.92));box-shadow:0 20px 60px rgba(0,0,0,.4), inset 0 0 0 1px rgba(255,255,255,.04);position:sticky;top:12px;z-index:5}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .sigil{display:grid;place-items:center;width:32px;height:32px;border-radius:9px;background:linear-gradient(135deg, rgba(60,75,140,.9), rgba(120,82,200,.9));box-shadow:0 6px 16px rgba(102,119,222,.35), inset 0 0 0 1px rgba(255,255,255,.2)}
    .sigil svg{width:18px;height:18px}
    .tabs{display:flex;gap:6px;background:rgba(255,255,255,.04);border:1px solid var(--outline);padding:4px;border-radius:12px}
    .tab{padding:8px 12px;border-radius:9px;color:var(--ink-dim);font-weight:700}
    .tab[aria-selected="true"]{color:var(--ink);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));box-shadow:inset 0 0 0 1px rgba(255,255,255,.08)}

    .profile{display:flex;align-items:center;gap:10px}
    .avatar{width:34px;height:34px;border-radius:50%;border:1px solid var(--gold-2);background:#1b2343}
    .name{font-weight:800}

    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:22px;margin-top:22px}
    @media (max-width: 980px){.grid{grid-template-columns:1fr 1fr}}
    @media (max-width: 640px){.grid{grid-template-columns:1fr}}

    .card{position:relative;border-radius:16px;background:var(--panel);border:1px solid var(--outline);box-shadow:0 18px 60px rgba(0,0,0,.35);overflow:hidden}
    .thumb{height:160px;background:radial-gradient(800px 300px at 50% 0%, rgba(160,107,255,.15), transparent 60%),linear-gradient(180deg,#101735,#0b1127);display:grid;place-items:center}
    .play{width:54px;height:54px;border-radius:50%;display:grid;place-items:center;background:radial-gradient(circle at 35% 35%, #a06bff, #6bb1ff);box-shadow:0 8px 24px rgba(104,130,255,.35)}
    .duration{position:absolute;right:10px;top:10px;font-size:12px;background:rgba(0,0,0,.6);padding:4px 6px;border-radius:8px;border:1px solid rgba(255,255,255,.12)}
    .body{padding:12px}
    .title{font-weight:800}
    .sub{color:var(--ink-dim);font-size:12px;margin-top:2px}
    .actions{display:flex;gap:10px;margin-top:10px}
    .btn{appearance:none;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);color:var(--ink);border-radius:10px;padding:8px 10px;font-weight:700;cursor:pointer}

    .vote{margin-left:auto;display:flex;align-items:center;gap:8px}
    .vote button{appearance:none;border:none;border-radius:10px;padding:8px 10px;font-weight:800;cursor:pointer;background:linear-gradient(90deg,var(--blue),var(--violet));color:#fff;box-shadow:0 8px 24px rgba(104,130,255,.35)}
    .vote .count{font-weight:800}
    .ribbon{position:absolute;left:-8px;top:14px;background:linear-gradient(90deg,#c8aa6e,#9c7b41);color:#141821;padding:6px 12px 6px 18px;border-top-right-radius:10px;border-bottom-right-radius:10px;font-weight:900;box-shadow:0 8px 24px rgba(0,0,0,.35);display:none}
    .card.top .ribbon{display:block}

    .empty{margin-top:18px;border:1px dashed rgba(255,255,255,.12);border-radius:16px;padding:24px;text-align:center;color:var(--ink-dim)}
  </style>
</head>
<body>
  <div class="container">
    <header class="topbar">
      <div class="brand">
        <div class="sigil" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l7 3v5c0 5.25-3.25 9.94-7 11-3.75-1.06-7-5.75-7-11V5l7-3z" stroke="#F9FAFB" stroke-width="1.5"/><path d="M9.5 11.25l2 2 3.5-3.5" stroke="#F9FAFB" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div>
          <div style="font-weight:800">LoL Notify Clip</div>
          <div style="font-size:12px;color:var(--ink-dim)">@<span id="headerHandle">â€”</span></div>
        </div>
      </div>
      <nav class="tabs" aria-label="Main">
        <a class="tab" aria-selected="false" href="dashboard.html">Dashboard</a>
        <a class="tab" aria-selected="false" href="settings.html">Settings</a>
        <a class="tab" aria-selected="true">Highlights</a>
        <a class="tab" aria-selected="false">About</a>
      </nav>
      <div class="profile">
        <img id="profileAvatar" class="avatar" alt="avatar"/>
        <div>
          <div class="name" id="profileName">Guest</div>
          <div style="font-size:12px;color:var(--ink-dim)">Highlights</div>
        </div>
      </div>
    </header>

    <section style="margin-top:18px">
      <div style="font-weight:900">Your Highlights</div>
      <div style="color:var(--ink-dim);font-size:12px">Best moments from your recent games</div>
    </section>

    <div id="cards" class="grid"></div>

    <div class="empty">
      <div style="font-size:28px">ðŸŽ¥</div>
      <div style="margin-top:8px">No more highlights</div>
      <div style="font-size:12px">Keep playing and recording to build your highlight reel!</div>
      <button class="btn" style="margin-top:12px">View Recording Settings</button>
    </div>
  </div>

  <script>
    function user(){ try{return JSON.parse(localStorage.getItem('user'))}catch{ return null } }
    (function(){
      const u=user();
      document.getElementById('headerHandle').textContent = u?.username || 'guest';
      document.getElementById('profileName').textContent = u?.username || 'Guest';
      document.getElementById('profileAvatar').src = u?.avatar || 'https://avatar.iran.liara.run/public/2';
    })();

    const clips=[
      {id:'c1', title:'Pentakill - Bot Lane', ago:'Today, 3:24 PM', dur:45},
      {id:'c2', title:'Baron Steal', ago:'Yesterday, 8:15 PM', dur:30},
      {id:'c3', title:'1v3 Outplay', ago:'2 days ago', dur:60},
    ];

    function loadCounts(){ try{ return JSON.parse(localStorage.getItem('votes_counts'))||{} }catch{return{}} }
    function loadByUser(){ try{ return JSON.parse(localStorage.getItem('votes_by_user'))||{} }catch{return{}} }
    function persist(k,v){ localStorage.setItem(k, JSON.stringify(v)); }

    let counts = loadCounts();
    let byUser = loadByUser(); 

    clips.forEach(c=>{ if(!(c.id in counts)) counts[c.id]=0 });
    persist('votes_counts', counts);

    function render(){
      const topId = Object.entries(counts).sort((a,b)=> b[1]-a[1])[0]?.[0];
      const wrap = document.getElementById('cards');
      wrap.innerHTML='';

      clips.forEach(c=>{
        const voted = !!byUser[c.id];
        const card = document.createElement('article');
        card.className = 'card' + (c.id===topId && counts[c.id]>0 ? ' top' : '');
        card.innerHTML = `
          <span class="ribbon">TOP LIKED</span>
          <div class="thumb">
            <div class="play">â–¶</div>
            <span class="duration">${c.dur}s</span>
          </div>
          <div class="body">
            <div class="title">${c.title}</div>
            <div class="sub">${c.ago}</div>
            <div class="actions">
              <button class="btn">â¬‡ Save</button>
              <button class="btn">ðŸ”— Share</button>
              <div class="vote">
                <span class="count" data-count>${counts[c.id]}</span>
                <button data-vote="${c.id}">${voted? 'Liked âœ“':'Like'}</button>
              </div>
            </div>
          </div>`;
        wrap.appendChild(card);
      });
    }

    function vote(clipId){
      if(byUser[clipId]){ counts[clipId] = Math.max(0, (counts[clipId]||0)-1); delete byUser[clipId]; }
      else { counts[clipId] = (counts[clipId]||0)+1; byUser[clipId]=true; }
      persist('votes_counts', counts); persist('votes_by_user', byUser); render();
    }

    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('[data-vote]');
      if(btn){ vote(btn.getAttribute('data-vote')); }
    });

    render();
  </script>
</body>
</html>
